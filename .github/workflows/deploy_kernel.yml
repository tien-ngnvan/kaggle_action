name: Push kaggle kernels

on: 
  push:
    branches:
      - main
jobs:
  deploy:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        os: [ ubuntu-latest ]
    name: Python ${{ matrix.os }}

    steps:
    - name: Kaggle deploy as new
      uses: actions/checkout@v2
      with:
        kaggle_username: ${{ secrets.KAGGLE_USERNAME }}
        kaggle_key: ${{ secrets.KAGGLE_KEY }}
        kaggle_make_new_kernel: true
        kernel_id: ngnvntien/github-action-test
        code_file_path: test/github-action-test.ipynb
        kernel_title: github-action-test
        language: python
        kernel_type: notebook
        is_private: true
        enable_gpu: true
        enable_internet: true
        submit_to_competition: false
